(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{86364:function(t,e,n){Promise.resolve().then(n.bind(n,817)),Promise.resolve().then(n.t.bind(n,11371,23)),Promise.resolve().then(n.t.bind(n,72853,23))},817:function(t,e,n){"use strict";n.r(e),n.d(e,{Providers:function(){return m},UseCaseContext:function(){return d},useUseCaseContext:function(){return f}});var r=n(57437),s=n(94579),o=n(5403),i=n(2265);class a{async execute(t){return this.repository.findByArea(t)}constructor(t){this.repository=t}}class c{get id(){return this._id}get name(){return this._name}get location(){return this._location}getPosition(){return[this._location.longitude,this._location.latitude]}constructor(t,e,n){this._id=t,this._name=e,this._location=n}}class Location{get latitude(){return this._latitude}get longitude(){return this._longitude}constructor(t,e){this._latitude=t,this._longitude=e}}class u{static createFromOSM(t){var e,n;let r=new Location(t.lat,t.lon),s=(null===(e=t.tags)||void 0===e?void 0:e.name)||(null===(n=t.tags)||void 0===n?void 0:n["name:ja"])||"店舗 ID: ".concat(t.id);return new c(t.id.toString(),s,r)}}class l{async findByArea(t){try{let e={north:t[3],south:t[1],east:t[2],west:t[0]},n=await this.apiClient.fetchRamenShops(e);return this.mapToEntities(n)}catch(t){return console.error("ラーメン店検索エラー:",t),[]}}mapToEntities(t){return t.filter(t=>t.lat&&t.lon).map(t=>u.createFromOSM(t))}constructor(t){this.apiClient=t}}class h{async query(t){try{let e=await fetch(this.baseUrl,{method:"POST",body:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!e.ok)return console.warn("Overpass API error response: ".concat(e.statusText)),{elements:[]};return await e.json()}catch(t){return console.warn("Overpass API request failed:",t),{elements:[]}}}async fetchRamenShops(t){let e=[t.west,t.south,t.east,t.north],n=this.buildRamenQuery(e),r=await this.query(n);return r.elements}buildRamenQuery(t){let[e,n,r,s]=t;return'\n      [out:json][timeout:25];\n      (\n        node["amenity"="restaurant"]["cuisine"="ramen"]('.concat(n,",").concat(e,",").concat(s,",").concat(r,');\n        node["shop"="ramen"](').concat(n,",").concat(e,",").concat(s,",").concat(r,");\n      );\n      out body;\n    ")}constructor(){this.baseUrl="https://overpass-api.de/api/interpreter"}}let d=(0,i.createContext)(null);function m(t){let{children:e}=t,n=function(){let t=new h,e=new l(t),n=new a(e);return{getRamenShopsUseCase:n}}();return(0,r.jsx)(d.Provider,{value:n,children:(0,r.jsx)(s.ChakraProvider,{value:o.Wn,children:e})})}function f(){let t=(0,i.useContext)(d);if(!t)throw Error("useUseCaseContext must be used within Providers");return t}},72853:function(){},11371:function(t){t.exports={style:{fontFamily:"'__Inter_8fe913', '__Inter_Fallback_8fe913'",fontStyle:"normal"},className:"__className_8fe913"}}},function(t){t.O(0,[102,971,472,744],function(){return t(t.s=86364)}),_N_E=t.O()}]);